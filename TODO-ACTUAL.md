# HOT

- реализовать тип отображения карты для роута `/map/..` в зависимости от `display.view_mode`
- в настройки карты добавить управление видимостью блоков (например, скрыть список регионов). Эта ультимативная настройка, макс приоритет

# Ordinary

- описать формат json5-конфига
- разобраться с уровнями доступа к контенту карты (ACL)


- стиль используемого font-awesome маркера для POI должен задаваться в настройках его слоя

```json5
{
  "Towns": {
    "hint": "Города",
    "zoom": -1,
    "zoom_min": 100,
    "zoom_max": -1,
  }  
}
 
```

- подумать о том, чтобы отображать незаполненные регионы только для редактора карты, но не для гостя.
  - это должно быть в свойствах региона: `visible_if_empty: true|false` (естественно visible для гостя)
  - Если на карту зашел тот, кто имеет право её редактировать - он видит все регионы, в том числе и пустые.
  - Это должно задаваться в настройках карты или слоя
    - Еще регион может быть просто недоступен для гостей (то есть информация есть, но стоит заглушка для гостей). 
    - Это устанавливается другим свойством `visible_for: guest|subscriber|editor|owner` (минимальный уровень доступа для видимости)
 

- подумать о том, что в проекте может быть несколько карт

- подумать о том, что на имеющийся фоновый слой можно накладывать дополнительный слой - картинкой (GIF прозрачный, SVG или картинка)
  - возможно ли это вообще?
  - как этим можно управлять?
  - https://gis.stackexchange.com/questions/161940/how-to-add-layers-and-update-layer-control-dynamically-leaflet
  - https://rstudio.github.io/leaflet/articles/showhide.html

- подумать о редисе
  - список доступных карт хранить в редисе
  - CRUD в админке
    - id карты
    - название
    - описание
    - путь к индексному файлу
    - права доступа (список пользователей с правами, по сути - со своим CRUD)
  - 

# Импорт данных

- Импорт, чекбокс: «предположить наличие информации о регионах на основе атрибутов title и description»
- В поле Title можно указать описание региона - то, что будет использовано для заголовка инфобокса если информация для региона не указана.

